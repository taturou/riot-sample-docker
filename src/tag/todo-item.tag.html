<todo-item>
  <div class="item">
    <div class="checkbox">
      <input type="checkbox" onclick={ check }>
    </div>
    <div class="id">
      (#{ item.id })
    </div>
    <div class="content { completed: item.done }" refs="content">
      { item.content }
    </div>
  </div>

  <script>
    import action from '../lib/action'
    import obseriot from 'obseriot';

    let tag = this;
    tag.item = tag.opts.item;
    tag.check = check;

    function check(e) {
      tag.item.done = e.target.checked;
      obseriot.notify(action.todo.item.update, tag.item);
    }
  </script>

  <style>
    .completed {
      text-decoration: line-through
    }

    .item {
      display: flex;
    }

    .checkbox {
      flex: 0;
      margin: 0.5em;
    }

    .id {
      flex: 0;
      margin: 0.5em;
    }

    .content {
      flex: 1;
      text-align: left;
      margin: 0.5em;
    }
  </style>
</todo-item>
