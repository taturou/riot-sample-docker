<todo-item>
  <div class="item">
    <i class="checkbox fa {fa-check-square-o : item.done} {fa-square-o : !item.done} fa-fw fa-2x" onclick={ check }></i>
    <!--
    <div class="id">
      (#{ item.id })
    </div>
    -->
    <div class="content { completed: item.done }" refs="content">
      { item.content }
    </div>
  </div>

  <script>
    import action from '../lib/action'
    import obseriot from 'obseriot';

    let tag = this;
    tag.item = tag.opts.item;
    tag.check = check;

    function check(e) {
      tag.item.done = !tag.item.done;
      obseriot.notify(action.todo.item.update, tag.item);
    }
  </script>

  <style>
    .completed {
      text-decoration: line-through
    }

    .item {
      display: flex;
      -webkit-align-items: baseline;
              align-items: baseline;
    }

    .checkbox {
      width: 40px;
      text-align: left;
      margin-left: 10px;
    }

    .id {
      flex: 0;
      font-size: 2rem;
    }

    .content {
      flex: 1;
      font-size: 2rem;
      text-align: left;
      margin-left: 10px;
    }
  </style>
</todo-item>
